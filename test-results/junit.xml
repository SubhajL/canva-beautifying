<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="451" failures="20" errors="0" time="9.474">
  <testsuite name="WebSocketServer" errors="0" failures="20" skipped="0" timestamp="2025-06-30T06:05:11" time="1.014" tests="20">
    <testcase classname="WebSocketServer Authentication should reject connection without token" name="WebSocketServer Authentication should reject connection without token" time="0.003">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Authentication should reject connection with invalid token" name="WebSocketServer Authentication should reject connection with invalid token" time="0.001">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Authentication should accept connection with valid token" name="WebSocketServer Authentication should accept connection with valid token" time="0.001">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Document Subscriptions should allow user to subscribe to their own document" name="WebSocketServer Document Subscriptions should allow user to subscribe to their own document" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Document Subscriptions should not allow user to subscribe to document they do not own" name="WebSocketServer Document Subscriptions should not allow user to subscribe to document they do not own" time="0.001">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Document Subscriptions should handle unsubscribe from document" name="WebSocketServer Document Subscriptions should handle unsubscribe from document" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer User Subscriptions should allow user to subscribe to their own updates" name="WebSocketServer User Subscriptions should allow user to subscribe to their own updates" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer User Subscriptions should not allow user to subscribe to other users" name="WebSocketServer User Subscriptions should not allow user to subscribe to other users" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Progress Updates should send enhancement progress updates" name="WebSocketServer Progress Updates should send enhancement progress updates" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Progress Updates should send job completed updates with notification" name="WebSocketServer Progress Updates should send job completed updates with notification" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Progress Updates should send job failed updates with notification" name="WebSocketServer Progress Updates should send job failed updates with notification" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Progress Updates should send queue position updates" name="WebSocketServer Progress Updates should send queue position updates" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Batch Updates should send batch updates to subscribed users" name="WebSocketServer Batch Updates should send batch updates to subscribed users" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Connection Management should handle ping messages" name="WebSocketServer Connection Management should handle ping messages" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Connection Management should handle disconnection gracefully" name="WebSocketServer Connection Management should handle disconnection gracefully" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Connection Management should handle socket errors" name="WebSocketServer Connection Management should handle socket errors" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Monitoring Methods should return connected users count" name="WebSocketServer Monitoring Methods should return connected users count" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Monitoring Methods should return rooms info" name="WebSocketServer Monitoring Methods should return rooms info" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Singleton Pattern should return same instance" name="WebSocketServer Singleton Pattern should return same instance" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
    <testcase classname="WebSocketServer Helper Functions should emit progress updates through helper" name="WebSocketServer Helper Functions should emit progress updates through helper" time="0">
      <failure>TypeError: this.opts.wsEngine is not a constructor
    at Server.init (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:449:19)
    at new BaseServer (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:68:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/server.js:438:1)
    at attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/engine.io/build/engine.io.js:51:20)
    at Server.initEngine (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:293:43)
    at Server.attach (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:232:14)
    at new Server (/Users/subhajlimanond/dev/canva-beautifying/node_modules/socket.io/dist/index.js:119:18)
    at WebSocketServer.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/server.ts:23:15)
    at Object.initialize (/Users/subhajlimanond/dev/canva-beautifying/lib/websocket/__tests__/server.test.ts:108:14)
    at Promise.then.completed (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:290:26)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:281:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:246:5)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/Users/subhajlimanond/dev/canva-beautifying/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
  </testsuite>
  <testsuite name="DocumentAnalysisEngine" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:11" time="1.031" tests="14">
    <testcase classname="DocumentAnalysisEngine Individual analyzers analyzes layout" name="DocumentAnalysisEngine Individual analyzers analyzes layout" time="0.008">
    </testcase>
    <testcase classname="DocumentAnalysisEngine Individual analyzers analyzes colors" name="DocumentAnalysisEngine Individual analyzers analyzes colors" time="0.001">
    </testcase>
    <testcase classname="DocumentAnalysisEngine Individual analyzers analyzes typography" name="DocumentAnalysisEngine Individual analyzers analyzes typography" time="0.002">
    </testcase>
    <testcase classname="DocumentAnalysisEngine Individual analyzers analyzes age appropriateness" name="DocumentAnalysisEngine Individual analyzers analyzes age appropriateness" time="0.001">
    </testcase>
    <testcase classname="DocumentAnalysisEngine Individual analyzers identifies subject matter" name="DocumentAnalysisEngine Individual analyzers identifies subject matter" time="0.001">
    </testcase>
    <testcase classname="DocumentAnalysisEngine Individual analyzers calculates engagement metrics" name="DocumentAnalysisEngine Individual analyzers calculates engagement metrics" time="0">
    </testcase>
    <testcase classname="DocumentAnalysisEngine generateCompleteAnalysis runs all analyses in parallel" name="DocumentAnalysisEngine generateCompleteAnalysis runs all analyses in parallel" time="0.103">
    </testcase>
    <testcase classname="DocumentAnalysisEngine generateCompleteAnalysis generates complete document analysis" name="DocumentAnalysisEngine generateCompleteAnalysis generates complete document analysis" time="0.002">
    </testcase>
    <testcase classname="DocumentAnalysisEngine generateCompleteAnalysis calculates overall quality score" name="DocumentAnalysisEngine generateCompleteAnalysis calculates overall quality score" time="0.001">
    </testcase>
    <testcase classname="DocumentAnalysisEngine generateCompleteAnalysis generates relevant suggestions" name="DocumentAnalysisEngine generateCompleteAnalysis generates relevant suggestions" time="0.001">
    </testcase>
    <testcase classname="DocumentAnalysisEngine generateCompleteAnalysis handles analyzer errors gracefully" name="DocumentAnalysisEngine generateCompleteAnalysis handles analyzer errors gracefully" time="0.005">
    </testcase>
    <testcase classname="DocumentAnalysisEngine generateCompleteAnalysis identifies critical issues" name="DocumentAnalysisEngine generateCompleteAnalysis identifies critical issues" time="0.004">
    </testcase>
    <testcase classname="DocumentAnalysisEngine Edge cases handles empty document context" name="DocumentAnalysisEngine Edge cases handles empty document context" time="0.005">
    </testcase>
    <testcase classname="DocumentAnalysisEngine Edge cases handles missing analyzer responses" name="DocumentAnalysisEngine Edge cases handles missing analyzer responses" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="EnhancementPipeline" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:11" time="1.1" tests="30">
    <testcase classname="EnhancementPipeline Constructor should initialize with correct state" name="EnhancementPipeline Constructor should initialize with correct state" time="0.007">
    </testcase>
    <testcase classname="EnhancementPipeline Constructor should create cache instance" name="EnhancementPipeline Constructor should create cache instance" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Constructor should initialize all stages" name="EnhancementPipeline Constructor should initialize all stages" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Constructor should extend EventEmitter" name="EnhancementPipeline Constructor should extend EventEmitter" time="0">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should execute all stages successfully" name="EnhancementPipeline Execute should execute all stages successfully" time="0.004">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should cache analysis results" name="EnhancementPipeline Execute should cache analysis results" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should use cached analysis when available" name="EnhancementPipeline Execute should use cached analysis when available" time="0">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should skip expired cache" name="EnhancementPipeline Execute should skip expired cache" time="0">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should skip enhancement for high-scoring documents" name="EnhancementPipeline Execute should skip enhancement for high-scoring documents" time="0.006">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should skip asset generation for free tier" name="EnhancementPipeline Execute should skip asset generation for free tier" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should handle asset generation settings" name="EnhancementPipeline Execute should handle asset generation settings" time="0">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should emit stage events" name="EnhancementPipeline Execute should emit stage events" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should update progress correctly" name="EnhancementPipeline Execute should update progress correctly" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Execute should save pipeline results" name="EnhancementPipeline Execute should save pipeline results" time="0.005">
    </testcase>
    <testcase classname="EnhancementPipeline Error Handling should handle stage failures" name="EnhancementPipeline Error Handling should handle stage failures" time="0.003">
    </testcase>
    <testcase classname="EnhancementPipeline Error Handling should emit failure events" name="EnhancementPipeline Error Handling should emit failure events" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Error Handling should handle unknown errors" name="EnhancementPipeline Error Handling should handle unknown errors" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Cancel should cancel pipeline execution" name="EnhancementPipeline Cancel should cancel pipeline execution" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Cancel should abort running operations" name="EnhancementPipeline Cancel should abort running operations" time="0.003">
    </testcase>
    <testcase classname="EnhancementPipeline Stage Execution should pass abort signal to stages" name="EnhancementPipeline Stage Execution should pass abort signal to stages" time="0.002">
    </testcase>
    <testcase classname="EnhancementPipeline Stage Execution should track stage timing" name="EnhancementPipeline Stage Execution should track stage timing" time="0.002">
    </testcase>
    <testcase classname="EnhancementPipeline Stage Execution should handle no significant issues" name="EnhancementPipeline Stage Execution should handle no significant issues" time="0.002">
    </testcase>
    <testcase classname="EnhancementPipeline Basic Tier Behavior should randomly generate assets for basic tier" name="EnhancementPipeline Basic Tier Behavior should randomly generate assets for basic tier" time="0.006">
    </testcase>
    <testcase classname="EnhancementPipeline Event Listeners should support progress callback" name="EnhancementPipeline Event Listeners should support progress callback" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Event Listeners should handle multiple event listeners" name="EnhancementPipeline Event Listeners should handle multiple event listeners" time="0">
    </testcase>
    <testcase classname="EnhancementPipeline State Management should return immutable state copy" name="EnhancementPipeline State Management should return immutable state copy" time="0">
    </testcase>
    <testcase classname="EnhancementPipeline State Management should update timestamps" name="EnhancementPipeline State Management should update timestamps" time="0.012">
    </testcase>
    <testcase classname="EnhancementPipeline Cache Interactions should cache enhancement plan" name="EnhancementPipeline Cache Interactions should cache enhancement plan" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Cache Interactions should cache generated assets" name="EnhancementPipeline Cache Interactions should cache generated assets" time="0.001">
    </testcase>
    <testcase classname="EnhancementPipeline Cache Interactions should use all cached data when available" name="EnhancementPipeline Cache Interactions should use all cached data when available" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Alert" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.159" tests="25">
    <testcase classname="Alert Rendering renders alert with role=&quot;alert&quot;" name="Alert Rendering renders alert with role=&quot;alert&quot;" time="0.023">
    </testcase>
    <testcase classname="Alert Rendering forwards ref to alert element" name="Alert Rendering forwards ref to alert element" time="0.002">
    </testcase>
    <testcase classname="Alert Rendering renders with children components" name="Alert Rendering renders with children components" time="0.005">
    </testcase>
    <testcase classname="Alert Rendering renders with icon" name="Alert Rendering renders with icon" time="0.002">
    </testcase>
    <testcase classname="Alert Variants applies default variant styles" name="Alert Variants applies default variant styles" time="0.003">
    </testcase>
    <testcase classname="Alert Variants applies destructive variant styles" name="Alert Variants applies destructive variant styles" time="0.001">
    </testcase>
    <testcase classname="Alert Variants uses default variant when not specified" name="Alert Variants uses default variant when not specified" time="0.001">
    </testcase>
    <testcase classname="Alert Props applies custom className to Alert" name="Alert Props applies custom className to Alert" time="0.001">
    </testcase>
    <testcase classname="Alert Props forwards HTML div attributes" name="Alert Props forwards HTML div attributes" time="0.003">
    </testcase>
    <testcase classname="Alert AlertTitle renders as h5 element" name="Alert AlertTitle renders as h5 element" time="0.001">
    </testcase>
    <testcase classname="Alert AlertTitle forwards ref to AlertTitle" name="Alert AlertTitle forwards ref to AlertTitle" time="0">
    </testcase>
    <testcase classname="Alert AlertTitle applies custom className to AlertTitle" name="Alert AlertTitle applies custom className to AlertTitle" time="0.001">
    </testcase>
    <testcase classname="Alert AlertTitle forwards HTML heading attributes" name="Alert AlertTitle forwards HTML heading attributes" time="0">
    </testcase>
    <testcase classname="Alert AlertDescription renders as div element" name="Alert AlertDescription renders as div element" time="0.001">
    </testcase>
    <testcase classname="Alert AlertDescription forwards ref to AlertDescription" name="Alert AlertDescription forwards ref to AlertDescription" time="0">
    </testcase>
    <testcase classname="Alert AlertDescription applies custom className to AlertDescription" name="Alert AlertDescription applies custom className to AlertDescription" time="0.001">
    </testcase>
    <testcase classname="Alert AlertDescription forwards HTML div attributes" name="Alert AlertDescription forwards HTML div attributes" time="0">
    </testcase>
    <testcase classname="Alert AlertDescription renders with paragraph inside" name="Alert AlertDescription renders with paragraph inside" time="0.001">
    </testcase>
    <testcase classname="Alert Complex compositions renders complete alert with all components" name="Alert Complex compositions renders complete alert with all components" time="0.002">
    </testcase>
    <testcase classname="Alert Complex compositions renders alert with multiple paragraphs in description" name="Alert Complex compositions renders alert with multiple paragraphs in description" time="0.001">
    </testcase>
    <testcase classname="Alert Complex compositions renders alert without title" name="Alert Complex compositions renders alert without title" time="0.001">
    </testcase>
    <testcase classname="Alert Complex compositions renders alert with custom content" name="Alert Complex compositions renders alert with custom content" time="0.004">
    </testcase>
    <testcase classname="Alert Accessibility has proper ARIA role" name="Alert Accessibility has proper ARIA role" time="0">
    </testcase>
    <testcase classname="Alert Accessibility can have additional ARIA attributes" name="Alert Accessibility can have additional ARIA attributes" time="0.001">
    </testcase>
    <testcase classname="Alert Accessibility maintains heading hierarchy" name="Alert Accessibility maintains heading hierarchy" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Input" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:11" time="1.208" tests="26">
    <testcase classname="Input Rendering renders input element" name="Input Rendering renders input element" time="0.032">
    </testcase>
    <testcase classname="Input Rendering forwards ref to input element" name="Input Rendering forwards ref to input element" time="0.002">
    </testcase>
    <testcase classname="Input Rendering renders with custom type" name="Input Rendering renders with custom type" time="0.004">
    </testcase>
    <testcase classname="Input Rendering renders password input" name="Input Rendering renders password input" time="0.002">
    </testcase>
    <testcase classname="Input Rendering renders number input" name="Input Rendering renders number input" time="0.004">
    </testcase>
    <testcase classname="Input Rendering renders search input" name="Input Rendering renders search input" time="0.002">
    </testcase>
    <testcase classname="Input Props applies custom className" name="Input Props applies custom className" time="0.002">
    </testcase>
    <testcase classname="Input Props forwards HTML input attributes" name="Input Props forwards HTML input attributes" time="0.003">
    </testcase>
    <testcase classname="Input Props handles value prop" name="Input Props handles value prop" time="0.003">
    </testcase>
    <testcase classname="Input Props handles defaultValue prop" name="Input Props handles defaultValue prop" time="0.001">
    </testcase>
    <testcase classname="Input Props handles min and max for number input" name="Input Props handles min and max for number input" time="0.002">
    </testcase>
    <testcase classname="Input Props handles maxLength prop" name="Input Props handles maxLength prop" time="0.001">
    </testcase>
    <testcase classname="Input Props handles pattern prop" name="Input Props handles pattern prop" time="0.002">
    </testcase>
    <testcase classname="Input Interactions handles onChange events" name="Input Interactions handles onChange events" time="0.026">
    </testcase>
    <testcase classname="Input Interactions handles onFocus and onBlur events" name="Input Interactions handles onFocus and onBlur events" time="0.013">
    </testcase>
    <testcase classname="Input Interactions handles onKeyDown events" name="Input Interactions handles onKeyDown events" time="0.006">
    </testcase>
    <testcase classname="Input Interactions prevents input when disabled" name="Input Interactions prevents input when disabled" time="0.005">
    </testcase>
    <testcase classname="Input Interactions prevents editing when readOnly" name="Input Interactions prevents editing when readOnly" time="0.019">
    </testcase>
    <testcase classname="Input Interactions supports copy and paste" name="Input Interactions supports copy and paste" time="0.013">
    </testcase>
    <testcase classname="Input Interactions supports selection" name="Input Interactions supports selection" time="0.016">
    </testcase>
    <testcase classname="Input File input renders file input" name="Input File input renders file input" time="0.001">
    </testcase>
    <testcase classname="Input File input handles accept attribute for file input" name="Input File input handles accept attribute for file input" time="0">
    </testcase>
    <testcase classname="Input File input handles multiple attribute for file input" name="Input File input handles multiple attribute for file input" time="0.001">
    </testcase>
    <testcase classname="Input Styling applies focus styles" name="Input Styling applies focus styles" time="0.009">
    </testcase>
    <testcase classname="Input Styling applies disabled styles" name="Input Styling applies disabled styles" time="0.001">
    </testcase>
    <testcase classname="Input Styling applies file input specific styles" name="Input Styling applies file input specific styles" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Middleware" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.099" tests="22">
    <testcase classname="Middleware HTTPS Enforcement should redirect to HTTPS in production" name="Middleware HTTPS Enforcement should redirect to HTTPS in production" time="0.001">
    </testcase>
    <testcase classname="Middleware HTTPS Enforcement should not redirect when already HTTPS" name="Middleware HTTPS Enforcement should not redirect when already HTTPS" time="0">
    </testcase>
    <testcase classname="Middleware HTTPS Enforcement should not redirect in development" name="Middleware HTTPS Enforcement should not redirect in development" time="0.001">
    </testcase>
    <testcase classname="Middleware Security Headers should add security headers to HTML responses" name="Middleware Security Headers should add security headers to HTML responses" time="0.001">
    </testcase>
    <testcase classname="Middleware Security Headers should not add security headers to static assets" name="Middleware Security Headers should not add security headers to static assets" time="0">
    </testcase>
    <testcase classname="Middleware CORS Headers should add CORS headers to API routes" name="Middleware CORS Headers should add CORS headers to API routes" time="0.001">
    </testcase>
    <testcase classname="Middleware CORS Headers should handle OPTIONS preflight requests" name="Middleware CORS Headers should handle OPTIONS preflight requests" time="0">
    </testcase>
    <testcase classname="Middleware Rate Limiting should allow requests under rate limit" name="Middleware Rate Limiting should allow requests under rate limit" time="0.001">
    </testcase>
    <testcase classname="Middleware Rate Limiting should block requests over rate limit" name="Middleware Rate Limiting should block requests over rate limit" time="0.012">
    </testcase>
    <testcase classname="Middleware Rate Limiting should use IP fallback when x-forwarded-for is missing" name="Middleware Rate Limiting should use IP fallback when x-forwarded-for is missing" time="0">
    </testcase>
    <testcase classname="Middleware Rate Limiting should not apply rate limiting to non-API routes" name="Middleware Rate Limiting should not apply rate limiting to non-API routes" time="0.02">
    </testcase>
    <testcase classname="Middleware Authentication should allow access to public routes without auth" name="Middleware Authentication should allow access to public routes without auth" time="0">
    </testcase>
    <testcase classname="Middleware Authentication should allow access to public API routes without auth" name="Middleware Authentication should allow access to public API routes without auth" time="0.001">
    </testcase>
    <testcase classname="Middleware Authentication should redirect to login for protected routes without session" name="Middleware Authentication should redirect to login for protected routes without session" time="0">
    </testcase>
    <testcase classname="Middleware Authentication should allow access to protected routes with session" name="Middleware Authentication should allow access to protected routes with session" time="0">
    </testcase>
    <testcase classname="Middleware Authentication should handle session update errors gracefully" name="Middleware Authentication should handle session update errors gracefully" time="0.006">
    </testcase>
    <testcase classname="Middleware Static Assets should allow static assets without authentication" name="Middleware Static Assets should allow static assets without authentication" time="0.001">
    </testcase>
    <testcase classname="Middleware Session Management should copy session headers to response" name="Middleware Session Management should copy session headers to response" time="0">
    </testcase>
    <testcase classname="Middleware Session Management should not override existing security headers" name="Middleware Session Management should not override existing security headers" time="0">
    </testcase>
    <testcase classname="Middleware Edge Cases should handle missing pathname gracefully" name="Middleware Edge Cases should handle missing pathname gracefully" time="0">
    </testcase>
    <testcase classname="Middleware Edge Cases should preserve query parameters on redirect" name="Middleware Edge Cases should preserve query parameters on redirect" time="0.001">
    </testcase>
    <testcase classname="Middleware Edge Cases should handle auth callback routes" name="Middleware Edge Cases should handle auth callback routes" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Button" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.258" tests="35">
    <testcase classname="Button Rendering renders button with children" name="Button Rendering renders button with children" time="0.031">
    </testcase>
    <testcase classname="Button Rendering forwards ref to button element" name="Button Rendering forwards ref to button element" time="0.001">
    </testcase>
    <testcase classname="Button Rendering renders as child component when asChild is true" name="Button Rendering renders as child component when asChild is true" time="0.005">
    </testcase>
    <testcase classname="Button Variants applies default variant styles" name="Button Variants applies default variant styles" time="0.003">
    </testcase>
    <testcase classname="Button Variants applies destructive variant styles" name="Button Variants applies destructive variant styles" time="0.003">
    </testcase>
    <testcase classname="Button Variants applies outline variant styles" name="Button Variants applies outline variant styles" time="0.002">
    </testcase>
    <testcase classname="Button Variants applies secondary variant styles" name="Button Variants applies secondary variant styles" time="0.003">
    </testcase>
    <testcase classname="Button Variants applies ghost variant styles" name="Button Variants applies ghost variant styles" time="0.002">
    </testcase>
    <testcase classname="Button Variants applies link variant styles" name="Button Variants applies link variant styles" time="0.003">
    </testcase>
    <testcase classname="Button Variants applies gradient variant styles" name="Button Variants applies gradient variant styles" time="0.002">
    </testcase>
    <testcase classname="Button Variants applies glow variant styles" name="Button Variants applies glow variant styles" time="0.002">
    </testcase>
    <testcase classname="Button Variants applies success variant styles" name="Button Variants applies success variant styles" time="0.001">
    </testcase>
    <testcase classname="Button Variants applies warning variant styles" name="Button Variants applies warning variant styles" time="0.001">
    </testcase>
    <testcase classname="Button Variants applies info variant styles" name="Button Variants applies info variant styles" time="0.002">
    </testcase>
    <testcase classname="Button Sizes applies default size styles" name="Button Sizes applies default size styles" time="0.001">
    </testcase>
    <testcase classname="Button Sizes applies sm size styles" name="Button Sizes applies sm size styles" time="0.001">
    </testcase>
    <testcase classname="Button Sizes applies lg size styles" name="Button Sizes applies lg size styles" time="0.001">
    </testcase>
    <testcase classname="Button Sizes applies xl size styles" name="Button Sizes applies xl size styles" time="0.001">
    </testcase>
    <testcase classname="Button Sizes applies icon size styles" name="Button Sizes applies icon size styles" time="0.001">
    </testcase>
    <testcase classname="Button Sizes applies icon-sm size styles" name="Button Sizes applies icon-sm size styles" time="0.001">
    </testcase>
    <testcase classname="Button Sizes applies icon-lg size styles" name="Button Sizes applies icon-lg size styles" time="0.001">
    </testcase>
    <testcase classname="Button Rounded applies default rounded styles" name="Button Rounded applies default rounded styles" time="0.003">
    </testcase>
    <testcase classname="Button Rounded applies sm rounded styles" name="Button Rounded applies sm rounded styles" time="0.001">
    </testcase>
    <testcase classname="Button Rounded applies lg rounded styles" name="Button Rounded applies lg rounded styles" time="0.001">
    </testcase>
    <testcase classname="Button Rounded applies xl rounded styles" name="Button Rounded applies xl rounded styles" time="0">
    </testcase>
    <testcase classname="Button Rounded applies full rounded styles" name="Button Rounded applies full rounded styles" time="0.001">
    </testcase>
    <testcase classname="Button Props applies custom className" name="Button Props applies custom className" time="0.002">
    </testcase>
    <testcase classname="Button Props forwards HTML button attributes" name="Button Props forwards HTML button attributes" time="0.001">
    </testcase>
    <testcase classname="Button Interactions handles click events" name="Button Interactions handles click events" time="0.015">
    </testcase>
    <testcase classname="Button Interactions does not trigger click when disabled" name="Button Interactions does not trigger click when disabled" time="0.008">
    </testcase>
    <testcase classname="Button Interactions supports keyboard navigation" name="Button Interactions supports keyboard navigation" time="0.011">
    </testcase>
    <testcase classname="Button Default variants applies default variant when no variant specified" name="Button Default variants applies default variant when no variant specified" time="0.004">
    </testcase>
    <testcase classname="Button Default variants applies default size when no size specified" name="Button Default variants applies default size when no size specified" time="0.004">
    </testcase>
    <testcase classname="Button Default variants applies default rounded when no rounded specified" name="Button Default variants applies default rounded when no rounded specified" time="0.004">
    </testcase>
    <testcase classname="Button Compound variants combines multiple variants correctly" name="Button Compound variants combines multiple variants correctly" time="0.01">
    </testcase>
  </testsuite>
  <testsuite name="Image Generation Integration Tests" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.094" tests="7">
    <testcase classname="Image Generation Integration Tests End-to-end asset generation should generate complete asset set for enhancement" name="Image Generation Integration Tests End-to-end asset generation should generate complete asset set for enhancement" time="0.002">
    </testcase>
    <testcase classname="Image Generation Integration Tests End-to-end asset generation should handle tier-based restrictions" name="Image Generation Integration Tests End-to-end asset generation should handle tier-based restrictions" time="0.013">
    </testcase>
    <testcase classname="Image Generation Integration Tests End-to-end asset generation should handle provider failures gracefully" name="Image Generation Integration Tests End-to-end asset generation should handle provider failures gracefully" time="0.006">
    </testcase>
    <testcase classname="Image Generation Integration Tests Background generation with analysis should use enhanced generation when analysis is available" name="Image Generation Integration Tests Background generation with analysis should use enhanced generation when analysis is available" time="0.031">
    </testcase>
    <testcase classname="Image Generation Integration Tests Model selection and fallback should use appropriate models based on user tier" name="Image Generation Integration Tests Model selection and fallback should use appropriate models based on user tier" time="0.001">
    </testcase>
    <testcase classname="Image Generation Integration Tests Cost tracking should track costs across multiple generations" name="Image Generation Integration Tests Cost tracking should track costs across multiple generations" time="0.001">
    </testcase>
    <testcase classname="Image Generation Integration Tests Caching behavior should use cache for repeated similar requests" name="Image Generation Integration Tests Caching behavior should use cache for repeated similar requests" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="POST /api/upload" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.127" tests="12">
    <testcase classname="POST /api/upload Authentication returns 401 when user is not authenticated" name="POST /api/upload Authentication returns 401 when user is not authenticated" time="0.002">
    </testcase>
    <testcase classname="POST /api/upload Authentication returns 401 when auth check fails" name="POST /api/upload Authentication returns 401 when auth check fails" time="0">
    </testcase>
    <testcase classname="POST /api/upload File validation returns 400 when no file is provided" name="POST /api/upload File validation returns 400 when no file is provided" time="0">
    </testcase>
    <testcase classname="POST /api/upload File validation returns 400 when file exceeds size limit" name="POST /api/upload File validation returns 400 when file exceeds size limit" time="0.037">
    </testcase>
    <testcase classname="POST /api/upload File validation returns 400 for invalid file type" name="POST /api/upload File validation returns 400 for invalid file type" time="0.001">
    </testcase>
    <testcase classname="POST /api/upload Successful upload uploads file successfully and returns correct response" name="POST /api/upload Successful upload uploads file successfully and returns correct response" time="0.002">
    </testcase>
    <testcase classname="POST /api/upload Successful upload succeeds even if database insert fails" name="POST /api/upload Successful upload succeeds even if database insert fails" time="0.022">
    </testcase>
    <testcase classname="POST /api/upload Successful upload accepts all allowed file types" name="POST /api/upload Successful upload accepts all allowed file types" time="0.001">
    </testcase>
    <testcase classname="POST /api/upload Error handling returns 500 when upload fails" name="POST /api/upload Error handling returns 500 when upload fails" time="0.001">
    </testcase>
    <testcase classname="POST /api/upload Error handling handles FormData parsing errors" name="POST /api/upload Error handling handles FormData parsing errors" time="0.001">
    </testcase>
    <testcase classname="POST /api/upload File metadata preserves original filename with special characters" name="POST /api/upload File metadata preserves original filename with special characters" time="0.001">
    </testcase>
    <testcase classname="POST /api/upload File metadata tracks correct file size" name="POST /api/upload File metadata tracks correct file size" time="0.004">
    </testcase>
  </testsuite>
  <testsuite name="/api/enhance" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.156" tests="16">
    <testcase classname="/api/enhance POST /api/enhance Authentication returns 401 when user is not authenticated" name="/api/enhance POST /api/enhance Authentication returns 401 when user is not authenticated" time="0.001">
    </testcase>
    <testcase classname="/api/enhance POST /api/enhance Authentication returns 401 when auth check fails" name="/api/enhance POST /api/enhance Authentication returns 401 when auth check fails" time="0">
    </testcase>
    <testcase classname="/api/enhance POST /api/enhance Usage limits returns 402 when usage limit exceeded" name="/api/enhance POST /api/enhance Usage limits returns 402 when usage limit exceeded" time="0.001">
    </testcase>
    <testcase classname="/api/enhance POST /api/enhance Usage limits proceeds when usage limit check passes" name="/api/enhance POST /api/enhance Usage limits proceeds when usage limit check passes" time="0">
    </testcase>
    <testcase classname="/api/enhance POST /api/enhance Request validation returns 400 when documentId is missing" name="/api/enhance POST /api/enhance Request validation returns 400 when documentId is missing" time="0">
    </testcase>
    <testcase classname="/api/enhance POST /api/enhance Request validation handles invalid JSON body" name="/api/enhance POST /api/enhance Request validation handles invalid JSON body" time="0.004">
    </testcase>
    <testcase classname="/api/enhance POST /api/enhance Enhancement processing successfully enhances document" name="/api/enhance POST /api/enhance Enhancement processing successfully enhances document" time="0">
    </testcase>
    <testcase classname="/api/enhance POST /api/enhance Enhancement processing tracks usage after successful enhancement" name="/api/enhance POST /api/enhance Enhancement processing tracks usage after successful enhancement" time="0">
    </testcase>
    <testcase classname="/api/enhance POST /api/enhance Enhancement processing does not track usage when enhancement fails" name="/api/enhance POST /api/enhance Enhancement processing does not track usage when enhancement fails" time="0.001">
    </testcase>
    <testcase classname="/api/enhance POST /api/enhance Enhancement processing handles enhancement service errors" name="/api/enhance POST /api/enhance Enhancement processing handles enhancement service errors" time="0">
    </testcase>
    <testcase classname="/api/enhance GET /api/enhance Authentication returns 401 when user is not authenticated" name="/api/enhance GET /api/enhance Authentication returns 401 when user is not authenticated" time="0">
    </testcase>
    <testcase classname="/api/enhance GET /api/enhance List enhancements returns list of user enhancements when no documentId provided" name="/api/enhance GET /api/enhance List enhancements returns list of user enhancements when no documentId provided" time="0.001">
    </testcase>
    <testcase classname="/api/enhance GET /api/enhance List enhancements handles errors when listing enhancements" name="/api/enhance GET /api/enhance List enhancements handles errors when listing enhancements" time="0">
    </testcase>
    <testcase classname="/api/enhance GET /api/enhance Get enhancement status returns status for specific document" name="/api/enhance GET /api/enhance Get enhancement status returns status for specific document" time="0.001">
    </testcase>
    <testcase classname="/api/enhance GET /api/enhance Get enhancement status handles invalid documentId parameter" name="/api/enhance GET /api/enhance Get enhancement status handles invalid documentId parameter" time="0">
    </testcase>
    <testcase classname="/api/enhance GET /api/enhance Get enhancement status handles errors when getting status" name="/api/enhance GET /api/enhance Get enhancement status handles errors when getting status" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="StrategyGenerator" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.086" tests="18">
    <testcase classname="StrategyGenerator generateStrategies should generate strategies from all enhancers" name="StrategyGenerator generateStrategies should generate strategies from all enhancers" time="0.002">
    </testcase>
    <testcase classname="StrategyGenerator generateStrategies should sort strategies by priority and impact" name="StrategyGenerator generateStrategies should sort strategies by priority and impact" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator generateStrategies should apply preferences to filter strategies" name="StrategyGenerator generateStrategies should apply preferences to filter strategies" time="0">
    </testcase>
    <testcase classname="StrategyGenerator generateStrategies should keep all strategies with auto-approve" name="StrategyGenerator generateStrategies should keep all strategies with auto-approve" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator generateStrategies should resolve conflicts between strategies" name="StrategyGenerator generateStrategies should resolve conflicts between strategies" time="0.002">
    </testcase>
    <testcase classname="StrategyGenerator generateStrategies should boost strategies for low-scoring documents" name="StrategyGenerator generateStrategies should boost strategies for low-scoring documents" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator generateStrategies should handle empty strategy responses" name="StrategyGenerator generateStrategies should handle empty strategy responses" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator generateStrategies should handle enhancer errors gracefully" name="StrategyGenerator generateStrategies should handle enhancer errors gracefully" time="0.004">
    </testcase>
    <testcase classname="StrategyGenerator generateStrategies should prioritize strategies addressing critical issues" name="StrategyGenerator generateStrategies should prioritize strategies addressing critical issues" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator generateOptimalStrategy should create a combined optimal strategy" name="StrategyGenerator generateOptimalStrategy should create a combined optimal strategy" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator generateOptimalStrategy should merge non-conflicting changes" name="StrategyGenerator generateOptimalStrategy should merge non-conflicting changes" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator generateOptimalStrategy should calculate combined impact correctly" name="StrategyGenerator generateOptimalStrategy should calculate combined impact correctly" time="0">
    </testcase>
    <testcase classname="StrategyGenerator generateOptimalStrategy should limit to top 5 strategies" name="StrategyGenerator generateOptimalStrategy should limit to top 5 strategies" time="0">
    </testcase>
    <testcase classname="StrategyGenerator generateOptimalStrategy should handle no strategies gracefully" name="StrategyGenerator generateOptimalStrategy should handle no strategies gracefully" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator generateOptimalStrategy should respect preferences in optimal strategy" name="StrategyGenerator generateOptimalStrategy should respect preferences in optimal strategy" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator Priority Calculation should apply priority multipliers correctly" name="StrategyGenerator Priority Calculation should apply priority multipliers correctly" time="0.002">
    </testcase>
    <testcase classname="StrategyGenerator Conflict Resolution should handle multiple conflicts correctly" name="StrategyGenerator Conflict Resolution should handle multiple conflicts correctly" time="0.001">
    </testcase>
    <testcase classname="StrategyGenerator Conflict Resolution should allow non-conflicting strategies to coexist" name="StrategyGenerator Conflict Resolution should allow non-conflicting strategies to coexist" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Enhancement Processor" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.06" tests="12">
    <testcase classname="Enhancement Processor Successful enhancement processes enhancement job successfully" name="Enhancement Processor Successful enhancement processes enhancement job successfully" time="0.003">
    </testcase>
    <testcase classname="Enhancement Processor Successful enhancement updates document status to enhanced" name="Enhancement Processor Successful enhancement updates document status to enhanced" time="0">
    </testcase>
    <testcase classname="Enhancement Processor Successful enhancement queues export job after enhancement" name="Enhancement Processor Successful enhancement queues export job after enhancement" time="0.001">
    </testcase>
    <testcase classname="Enhancement Processor Successful enhancement tracks all enhancement stages" name="Enhancement Processor Successful enhancement tracks all enhancement stages" time="0">
    </testcase>
    <testcase classname="Enhancement Processor Error handling handles document not found error" name="Enhancement Processor Error handling handles document not found error" time="0.006">
    </testcase>
    <testcase classname="Enhancement Processor Error handling handles enhancement engine errors" name="Enhancement Processor Error handling handles enhancement engine errors" time="0">
    </testcase>
    <testcase classname="Enhancement Processor Error handling handles upload errors" name="Enhancement Processor Error handling handles upload errors" time="0.001">
    </testcase>
    <testcase classname="Enhancement Processor Error handling handles database save errors" name="Enhancement Processor Error handling handles database save errors" time="0">
    </testcase>
    <testcase classname="Enhancement Processor Worker configuration has correct concurrency settings" name="Enhancement Processor Worker configuration has correct concurrency settings" time="0">
    </testcase>
    <testcase classname="Enhancement Processor Worker configuration has correct rate limiting" name="Enhancement Processor Worker configuration has correct rate limiting" time="0">
    </testcase>
    <testcase classname="Enhancement Processor Worker configuration registers event handlers" name="Enhancement Processor Worker configuration registers event handlers" time="0">
    </testcase>
    <testcase classname="Enhancement Processor Different subscription tiers processes free tier enhancement" name="Enhancement Processor Different subscription tiers processes free tier enhancement" time="0">
    </testcase>
  </testsuite>
  <testsuite name="ExportService" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.054" tests="18">
    <testcase classname="ExportService constructor initializes all exporters" name="ExportService constructor initializes all exporters" time="0.001">
    </testcase>
    <testcase classname="ExportService constructor sets up batch exporter with service reference" name="ExportService constructor sets up batch exporter with service reference" time="0">
    </testcase>
    <testcase classname="ExportService constructor initializes progress tracker" name="ExportService constructor initializes progress tracker" time="0">
    </testcase>
    <testcase classname="ExportService exportDocument Validation returns error for unsupported format" name="ExportService exportDocument Validation returns error for unsupported format" time="0">
    </testcase>
    <testcase classname="ExportService exportDocument Validation returns error for invalid options" name="ExportService exportDocument Validation returns error for invalid options" time="0.001">
    </testcase>
    <testcase classname="ExportService exportDocument Validation returns specific error for invalid scale" name="ExportService exportDocument Validation returns specific error for invalid scale" time="0">
    </testcase>
    <testcase classname="ExportService exportDocument Successful export exports PNG successfully" name="ExportService exportDocument Successful export exports PNG successfully" time="0.004">
    </testcase>
    <testcase classname="ExportService exportDocument Successful export exports JPG successfully" name="ExportService exportDocument Successful export exports JPG successfully" time="0">
    </testcase>
    <testcase classname="ExportService exportDocument Successful export exports PDF successfully" name="ExportService exportDocument Successful export exports PDF successfully" time="0.001">
    </testcase>
    <testcase classname="ExportService exportDocument Successful export exports to Canva successfully" name="ExportService exportDocument Successful export exports to Canva successfully" time="0">
    </testcase>
    <testcase classname="ExportService exportDocument Successful export stores export history on success" name="ExportService exportDocument Successful export stores export history on success" time="0.001">
    </testcase>
    <testcase classname="ExportService exportDocument Error handling handles export failure" name="ExportService exportDocument Error handling handles export failure" time="0">
    </testcase>
    <testcase classname="ExportService exportDocument Error handling handles export exception" name="ExportService exportDocument Error handling handles export exception" time="0">
    </testcase>
    <testcase classname="ExportService exportDocument Error handling does not store history on failure" name="ExportService exportDocument Error handling does not store history on failure" time="0.001">
    </testcase>
    <testcase classname="ExportService batchExport delegates to batch exporter" name="ExportService batchExport delegates to batch exporter" time="0">
    </testcase>
    <testcase classname="ExportService getExportHistory retrieves export history for user" name="ExportService getExportHistory retrieves export history for user" time="0.001">
    </testcase>
    <testcase classname="ExportService getExportHistory retrieves export history without format filter" name="ExportService getExportHistory retrieves export history without format filter" time="0">
    </testcase>
    <testcase classname="ExportService getExportProgress retrieves progress for export" name="ExportService getExportProgress retrieves progress for export" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Error Middleware" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.049" tests="15">
    <testcase classname="Error Middleware withErrorHandling should handle successful requests" name="Error Middleware withErrorHandling should handle successful requests" time="0.001">
    </testcase>
    <testcase classname="Error Middleware withErrorHandling should add request ID to response headers" name="Error Middleware withErrorHandling should add request ID to response headers" time="0.001">
    </testcase>
    <testcase classname="Error Middleware withErrorHandling should handle errors using APIErrorHandler" name="Error Middleware withErrorHandling should handle errors using APIErrorHandler" time="0">
    </testcase>
    <testcase classname="Error Middleware withErrorHandling should handle non-Error objects" name="Error Middleware withErrorHandling should handle non-Error objects" time="0.001">
    </testcase>
    <testcase classname="Error Middleware withErrorHandling should preserve existing response headers" name="Error Middleware withErrorHandling should preserve existing response headers" time="0">
    </testcase>
    <testcase classname="Error Middleware withErrorHandling should generate unique request IDs" name="Error Middleware withErrorHandling should generate unique request IDs" time="0">
    </testcase>
    <testcase classname="Error Middleware asyncHandler should wrap handler with error handling" name="Error Middleware asyncHandler should wrap handler with error handling" time="0.001">
    </testcase>
    <testcase classname="Error Middleware asyncHandler should pass params to handler" name="Error Middleware asyncHandler should pass params to handler" time="0">
    </testcase>
    <testcase classname="Error Middleware asyncHandler should handle errors in wrapped handler" name="Error Middleware asyncHandler should handle errors in wrapped handler" time="0">
    </testcase>
    <testcase classname="Error Middleware asyncHandler should work with typed params" name="Error Middleware asyncHandler should work with typed params" time="0.001">
    </testcase>
    <testcase classname="Error Middleware asyncHandler should handle synchronous errors" name="Error Middleware asyncHandler should handle synchronous errors" time="0">
    </testcase>
    <testcase classname="Error Middleware asyncHandler should preserve handler context" name="Error Middleware asyncHandler should preserve handler context" time="0">
    </testcase>
    <testcase classname="Error Middleware Integration should work with real NextRequest objects" name="Error Middleware Integration should work with real NextRequest objects" time="0">
    </testcase>
    <testcase classname="Error Middleware Integration should handle complex error scenarios" name="Error Middleware Integration should handle complex error scenarios" time="0.002">
    </testcase>
    <testcase classname="Error Middleware Integration should handle multiple concurrent requests" name="Error Middleware Integration should handle multiple concurrent requests" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="WebSocketServer - Unit Tests" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.051" tests="18">
    <testcase classname="WebSocketServer - Unit Tests Initialization should create a new WebSocketServer instance" name="WebSocketServer - Unit Tests Initialization should create a new WebSocketServer instance" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Initialization should have null io before initialization" name="WebSocketServer - Unit Tests Initialization should have null io before initialization" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendEnhancementProgress gracefully when not initialized" name="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendEnhancementProgress gracefully when not initialized" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendJobCompleted gracefully when not initialized" name="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendJobCompleted gracefully when not initialized" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendJobFailed gracefully when not initialized" name="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendJobFailed gracefully when not initialized" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendQueuePosition gracefully when not initialized" name="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendQueuePosition gracefully when not initialized" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendBatchUpdate gracefully when not initialized" name="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendBatchUpdate gracefully when not initialized" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendNotificationToUser gracefully when not initialized" name="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendNotificationToUser gracefully when not initialized" time="0.001">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendNotificationToDocument gracefully when not initialized" name="WebSocketServer - Unit Tests Public Methods - Before Initialization should handle sendNotificationToDocument gracefully when not initialized" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Monitoring Methods should return 0 for connected users count when not initialized" name="WebSocketServer - Unit Tests Monitoring Methods should return 0 for connected users count when not initialized" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Monitoring Methods should return empty object for rooms info when not initialized" name="WebSocketServer - Unit Tests Monitoring Methods should return empty object for rooms info when not initialized" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Graceful Shutdown should handle close gracefully when not initialized" name="WebSocketServer - Unit Tests Graceful Shutdown should handle close gracefully when not initialized" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Helper Methods should verify document access" name="WebSocketServer - Unit Tests Helper Methods should verify document access" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Helper Methods should deny document access for different user" name="WebSocketServer - Unit Tests Helper Methods should deny document access for different user" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Helper Methods should verify batch access (placeholder)" name="WebSocketServer - Unit Tests Helper Methods should verify batch access (placeholder)" time="0">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Singleton Pattern should return same instance from getWebSocketServer" name="WebSocketServer - Unit Tests Singleton Pattern should return same instance from getWebSocketServer" time="0.001">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Singleton Pattern should create new instance if not exists" name="WebSocketServer - Unit Tests Singleton Pattern should create new instance if not exists" time="0.007">
    </testcase>
    <testcase classname="WebSocketServer - Unit Tests Helper Function - emitProgressUpdate should call sendEnhancementProgress on the singleton instance" name="WebSocketServer - Unit Tests Helper Function - emitProgressUpdate should call sendEnhancementProgress on the singleton instance" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="POST /api/stripe/webhook" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.049" tests="15">
    <testcase classname="POST /api/stripe/webhook Signature validation returns 400 when stripe-signature header is missing" name="POST /api/stripe/webhook Signature validation returns 400 when stripe-signature header is missing" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Signature validation returns 400 when signature verification fails" name="POST /api/stripe/webhook Signature validation returns 400 when signature verification fails" time="0.004">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling customer.subscription.created syncs subscription status" name="POST /api/stripe/webhook Event handling customer.subscription.created syncs subscription status" time="0.001">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling customer.subscription.updated syncs subscription status" name="POST /api/stripe/webhook Event handling customer.subscription.updated syncs subscription status" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling customer.subscription.deleted updates user to free tier" name="POST /api/stripe/webhook Event handling customer.subscription.deleted updates user to free tier" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling customer.subscription.deleted skips update when userId is missing" name="POST /api/stripe/webhook Event handling customer.subscription.deleted skips update when userId is missing" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling invoice.payment_succeeded syncs subscription status" name="POST /api/stripe/webhook Event handling invoice.payment_succeeded syncs subscription status" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling invoice.payment_succeeded handles invoice without subscription" name="POST /api/stripe/webhook Event handling invoice.payment_succeeded handles invoice without subscription" time="0.001">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling invoice.payment_failed updates subscription status to past_due" name="POST /api/stripe/webhook Event handling invoice.payment_failed updates subscription status to past_due" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling invoice.payment_failed handles missing subscription metadata" name="POST /api/stripe/webhook Event handling invoice.payment_failed handles missing subscription metadata" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling checkout.session.completed syncs subscription for subscription mode" name="POST /api/stripe/webhook Event handling checkout.session.completed syncs subscription for subscription mode" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling checkout.session.completed skips sync for payment mode" name="POST /api/stripe/webhook Event handling checkout.session.completed skips sync for payment mode" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling Unhandled events logs and returns success for unhandled events" name="POST /api/stripe/webhook Event handling Unhandled events logs and returns success for unhandled events" time="0">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling Error handling returns 500 when handler throws error" name="POST /api/stripe/webhook Event handling Error handling returns 500 when handler throws error" time="0.001">
    </testcase>
    <testcase classname="POST /api/stripe/webhook Event handling Error handling handles database errors gracefully" name="POST /api/stripe/webhook Event handling Error handling handles database errors gracefully" time="0">
    </testcase>
  </testsuite>
  <testsuite name="ImageGenerationService" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.048" tests="11">
    <testcase classname="ImageGenerationService generateBackground should generate a background successfully" name="ImageGenerationService generateBackground should generate a background successfully" time="0.001">
    </testcase>
    <testcase classname="ImageGenerationService generateBackground should return cached result if available" name="ImageGenerationService generateBackground should return cached result if available" time="0.001">
    </testcase>
    <testcase classname="ImageGenerationService generateDecorativeElement should generate a decorative element" name="ImageGenerationService generateDecorativeElement should generate a decorative element" time="0">
    </testcase>
    <testcase classname="ImageGenerationService generateImage should validate prompt before generation" name="ImageGenerationService generateImage should validate prompt before generation" time="0.003">
    </testcase>
    <testcase classname="ImageGenerationService generateImage should use fallback provider on primary failure" name="ImageGenerationService generateImage should use fallback provider on primary failure" time="0.001">
    </testcase>
    <testcase classname="ImageGenerationService generateImage should track costs per user" name="ImageGenerationService generateImage should track costs per user" time="0.001">
    </testcase>
    <testcase classname="ImageGenerationService provider selection should select provider based on user tier" name="ImageGenerationService provider selection should select provider based on user tier" time="0">
    </testcase>
    <testcase classname="ImageGenerationService provider selection should respect explicit model selection" name="ImageGenerationService provider selection should respect explicit model selection" time="0.002">
    </testcase>
    <testcase classname="ImageGenerationService getAvailableModels should return available models with status" name="ImageGenerationService getAvailableModels should return available models with status" time="0.001">
    </testcase>
    <testcase classname="ImageGenerationService suggestPromptImprovements should delegate to prompt engineer" name="ImageGenerationService suggestPromptImprovements should delegate to prompt engineer" time="0">
    </testcase>
    <testcase classname="ImageGenerationService error handling should throw error when no providers available" name="ImageGenerationService error handling should throw error when no providers available" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="EnhancementService" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.069" tests="21">
    <testcase classname="EnhancementService constructor should create an instance with pipeline" name="EnhancementService constructor should create an instance with pipeline" time="0.003">
    </testcase>
    <testcase classname="EnhancementService enhanceDocument should enhance a document successfully" name="EnhancementService enhanceDocument should enhance a document successfully" time="0.001">
    </testcase>
    <testcase classname="EnhancementService enhanceDocument should use preferences when provided" name="EnhancementService enhanceDocument should use preferences when provided" time="0">
    </testcase>
    <testcase classname="EnhancementService enhanceDocument should return existing result if already enhanced" name="EnhancementService enhanceDocument should return existing result if already enhanced" time="0">
    </testcase>
    <testcase classname="EnhancementService enhanceDocument should throw error if document not found" name="EnhancementService enhanceDocument should throw error if document not found" time="0.004">
    </testcase>
    <testcase classname="EnhancementService enhanceDocument should update status to processing before enhancement" name="EnhancementService enhanceDocument should update status to processing before enhancement" time="0.001">
    </testcase>
    <testcase classname="EnhancementService enhanceDocument should store enhancement results" name="EnhancementService enhanceDocument should store enhancement results" time="0">
    </testcase>
    <testcase classname="EnhancementService enhanceDocument should handle enhancement failure" name="EnhancementService enhanceDocument should handle enhancement failure" time="0.001">
    </testcase>
    <testcase classname="EnhancementService enhanceDocument should handle non-Error failures" name="EnhancementService enhanceDocument should handle non-Error failures" time="0">
    </testcase>
    <testcase classname="EnhancementService enhanceDocument should use default age group if not provided" name="EnhancementService enhanceDocument should use default age group if not provided" time="0">
    </testcase>
    <testcase classname="EnhancementService getEnhancementStatus should return status for pending enhancement" name="EnhancementService getEnhancementStatus should return status for pending enhancement" time="0">
    </testcase>
    <testcase classname="EnhancementService getEnhancementStatus should return progress for processing enhancement" name="EnhancementService getEnhancementStatus should return progress for processing enhancement" time="0.001">
    </testcase>
    <testcase classname="EnhancementService getEnhancementStatus should return result for completed enhancement" name="EnhancementService getEnhancementStatus should return result for completed enhancement" time="0">
    </testcase>
    <testcase classname="EnhancementService getEnhancementStatus should throw error if enhancement not found" name="EnhancementService getEnhancementStatus should throw error if enhancement not found" time="0">
    </testcase>
    <testcase classname="EnhancementService getEnhancementStatus should cap progress at 95%" name="EnhancementService getEnhancementStatus should cap progress at 95%" time="0">
    </testcase>
    <testcase classname="EnhancementService listUserEnhancements should return list of user enhancements" name="EnhancementService listUserEnhancements should return list of user enhancements" time="0">
    </testcase>
    <testcase classname="EnhancementService listUserEnhancements should handle empty enhancement list" name="EnhancementService listUserEnhancements should handle empty enhancement list" time="0.001">
    </testcase>
    <testcase classname="EnhancementService listUserEnhancements should handle null data response" name="EnhancementService listUserEnhancements should handle null data response" time="0">
    </testcase>
    <testcase classname="EnhancementService Private Methods getExistingResult should handle missing enhancement data gracefully" name="EnhancementService Private Methods getExistingResult should handle missing enhancement data gracefully" time="0">
    </testcase>
    <testcase classname="EnhancementService Private Methods getExistingResult should handle partial enhancement data" name="EnhancementService Private Methods getExistingResult should handle partial enhancement data" time="0">
    </testcase>
    <testcase classname="EnhancementService Private Methods storeEnhancementResult should handle failed enhancement result" name="EnhancementService Private Methods storeEnhancementResult should handle failed enhancement result" time="0">
    </testcase>
  </testsuite>
  <testsuite name="ColorOptimization" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.042" tests="20">
    <testcase classname="ColorOptimization generateComplementary generates basic complementary color" name="ColorOptimization generateComplementary generates basic complementary color" time="0">
    </testcase>
    <testcase classname="ColorOptimization generateComplementary generates complementary with variations" name="ColorOptimization generateComplementary generates complementary with variations" time="0.001">
    </testcase>
    <testcase classname="ColorOptimization generateComplementary generates complementary with multiple variations" name="ColorOptimization generateComplementary generates complementary with multiple variations" time="0">
    </testcase>
    <testcase classname="ColorOptimization generateComplementary preserves luminance when requested" name="ColorOptimization generateComplementary preserves luminance when requested" time="0">
    </testcase>
    <testcase classname="ColorOptimization generateComplementary handles edge case hues correctly" name="ColorOptimization generateComplementary handles edge case hues correctly" time="0">
    </testcase>
    <testcase classname="ColorOptimization generateSplitComplementary generates split-complementary scheme" name="ColorOptimization generateSplitComplementary generates split-complementary scheme" time="0.001">
    </testcase>
    <testcase classname="ColorOptimization generateSplitComplementary maintains saturation across split complements" name="ColorOptimization generateSplitComplementary maintains saturation across split complements" time="0">
    </testcase>
    <testcase classname="ColorOptimization generateTriadic generates triadic color scheme" name="ColorOptimization generateTriadic generates triadic color scheme" time="0">
    </testcase>
    <testcase classname="ColorOptimization generateTriadic maintains saturation in triadic" name="ColorOptimization generateTriadic maintains saturation in triadic" time="0">
    </testcase>
    <testcase classname="ColorOptimization generateAnalogous generates analogous color scheme" name="ColorOptimization generateAnalogous generates analogous color scheme" time="0">
    </testcase>
    <testcase classname="ColorOptimization generateAnalogous generates extended analogous scheme" name="ColorOptimization generateAnalogous generates extended analogous scheme" time="0">
    </testcase>
    <testcase classname="ColorOptimization fixContrast fixes contrast between two colors" name="ColorOptimization fixContrast fixes contrast between two colors" time="0.001">
    </testcase>
    <testcase classname="ColorOptimization fixContrast adjusts colors for poor contrast" name="ColorOptimization fixContrast adjusts colors for poor contrast" time="0">
    </testcase>
    <testcase classname="ColorOptimization fixContrast preserves original colors when contrast is good" name="ColorOptimization fixContrast preserves original colors when contrast is good" time="0">
    </testcase>
    <testcase classname="ColorOptimization harmonizePalette harmonizes a set of colors" name="ColorOptimization harmonizePalette harmonizes a set of colors" time="0">
    </testcase>
    <testcase classname="ColorOptimization harmonizePalette harmonizes with specific method" name="ColorOptimization harmonizePalette harmonizes with specific method" time="0.001">
    </testcase>
    <testcase classname="ColorOptimization ensureAccessibility ensures accessible colors" name="ColorOptimization ensureAccessibility ensures accessible colors" time="0">
    </testcase>
    <testcase classname="ColorOptimization ensureAccessibility ensures accessibility with AAA standard" name="ColorOptimization ensureAccessibility ensures accessibility with AAA standard" time="0.001">
    </testcase>
    <testcase classname="ColorOptimization generateAccessibleVariations generates accessible variations" name="ColorOptimization generateAccessibleVariations generates accessible variations" time="0.002">
    </testcase>
    <testcase classname="ColorOptimization generateAccessibleVariations generates variations with neutrals" name="ColorOptimization generateAccessibleVariations generates variations with neutrals" time="0">
    </testcase>
  </testsuite>
  <testsuite name="AssetCache" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.052" tests="12">
    <testcase classname="AssetCache findSimilar should find cached asset in memory" name="AssetCache findSimilar should find cached asset in memory" time="0.001">
    </testcase>
    <testcase classname="AssetCache findSimilar should find cached asset in database" name="AssetCache findSimilar should find cached asset in database" time="0.001">
    </testcase>
    <testcase classname="AssetCache findSimilar should handle fuzzy matching in memory cache" name="AssetCache findSimilar should handle fuzzy matching in memory cache" time="0">
    </testcase>
    <testcase classname="AssetCache findSimilar should not return expired cached assets" name="AssetCache findSimilar should not return expired cached assets" time="0">
    </testcase>
    <testcase classname="AssetCache findSimilar should return null when no similar cache found" name="AssetCache findSimilar should return null when no similar cache found" time="0">
    </testcase>
    <testcase classname="AssetCache findSimilar should handle database errors gracefully" name="AssetCache findSimilar should handle database errors gracefully" time="0.01">
    </testcase>
    <testcase classname="AssetCache store should store image in both memory and database" name="AssetCache store should store image in both memory and database" time="0">
    </testcase>
    <testcase classname="AssetCache store should extract tags from prompts" name="AssetCache store should extract tags from prompts" time="0.001">
    </testcase>
    <testcase classname="AssetCache store should handle storage errors gracefully" name="AssetCache store should handle storage errors gracefully" time="0">
    </testcase>
    <testcase classname="AssetCache getCacheStats should return cache statistics" name="AssetCache getCacheStats should return cache statistics" time="0.001">
    </testcase>
    <testcase classname="AssetCache cleanup should clean up expired entries" name="AssetCache cleanup should clean up expired entries" time="0">
    </testcase>
    <testcase classname="AssetCache similarity matching should correctly identify similar prompts" name="AssetCache similarity matching should correctly identify similar prompts" time="0">
    </testcase>
  </testsuite>
  <testsuite name="PromptEngineer" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.041" tests="20">
    <testcase classname="PromptEngineer generateBackgroundPrompt should generate background prompt with template" name="PromptEngineer generateBackgroundPrompt should generate background prompt with template" time="0.001">
    </testcase>
    <testcase classname="PromptEngineer generateBackgroundPrompt should handle modern style backgrounds" name="PromptEngineer generateBackgroundPrompt should handle modern style backgrounds" time="0">
    </testcase>
    <testcase classname="PromptEngineer generateBackgroundPrompt should handle professional style backgrounds" name="PromptEngineer generateBackgroundPrompt should handle professional style backgrounds" time="0">
    </testcase>
    <testcase classname="PromptEngineer generateBackgroundPrompt should use fallback for unknown styles" name="PromptEngineer generateBackgroundPrompt should use fallback for unknown styles" time="0">
    </testcase>
    <testcase classname="PromptEngineer generateBackgroundPrompt should handle empty color palette" name="PromptEngineer generateBackgroundPrompt should handle empty color palette" time="0">
    </testcase>
    <testcase classname="PromptEngineer generateDecorativeElementPrompt should generate icon element prompt" name="PromptEngineer generateDecorativeElementPrompt should generate icon element prompt" time="0.001">
    </testcase>
    <testcase classname="PromptEngineer generateDecorativeElementPrompt should generate pattern element prompt" name="PromptEngineer generateDecorativeElementPrompt should generate pattern element prompt" time="0">
    </testcase>
    <testcase classname="PromptEngineer generateDecorativeElementPrompt should generate border element prompt" name="PromptEngineer generateDecorativeElementPrompt should generate border element prompt" time="0">
    </testcase>
    <testcase classname="PromptEngineer generateDecorativeElementPrompt should use fallback for unknown element types" name="PromptEngineer generateDecorativeElementPrompt should use fallback for unknown element types" time="0">
    </testcase>
    <testcase classname="PromptEngineer enhancePromptForModel should enhance prompt for Stable Diffusion" name="PromptEngineer enhancePromptForModel should enhance prompt for Stable Diffusion" time="0.002">
    </testcase>
    <testcase classname="PromptEngineer enhancePromptForModel should enhance prompt for DALL-E 3" name="PromptEngineer enhancePromptForModel should enhance prompt for DALL-E 3" time="0">
    </testcase>
    <testcase classname="PromptEngineer generateNegativePrompt should generate base negative prompt" name="PromptEngineer generateNegativePrompt should generate base negative prompt" time="0">
    </testcase>
    <testcase classname="PromptEngineer generateNegativePrompt should add style-specific negatives" name="PromptEngineer generateNegativePrompt should add style-specific negatives" time="0">
    </testcase>
    <testcase classname="PromptEngineer suggestPromptImprovements should suggest improvements for short prompts" name="PromptEngineer suggestPromptImprovements should suggest improvements for short prompts" time="0.001">
    </testcase>
    <testcase classname="PromptEngineer suggestPromptImprovements should suggest style descriptors if missing" name="PromptEngineer suggestPromptImprovements should suggest style descriptors if missing" time="0">
    </testcase>
    <testcase classname="PromptEngineer suggestPromptImprovements should suggest quality modifiers if missing" name="PromptEngineer suggestPromptImprovements should suggest quality modifiers if missing" time="0">
    </testcase>
    <testcase classname="PromptEngineer suggestPromptImprovements should suggest color preferences if missing" name="PromptEngineer suggestPromptImprovements should suggest color preferences if missing" time="0">
    </testcase>
    <testcase classname="PromptEngineer suggestPromptImprovements should return no suggestions for well-formed prompts" name="PromptEngineer suggestPromptImprovements should return no suggestions for well-formed prompts" time="0">
    </testcase>
    <testcase classname="PromptEngineer private helper methods should format colors correctly" name="PromptEngineer private helper methods should format colors correctly" time="0">
    </testcase>
    <testcase classname="PromptEngineer private helper methods should select appropriate patterns for document types" name="PromptEngineer private helper methods should select appropriate patterns for document types" time="0">
    </testcase>
  </testsuite>
  <testsuite name="ExportService" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.036" tests="6">
    <testcase classname="ExportService exportDocument should export PNG with default options" name="ExportService exportDocument should export PNG with default options" time="0.001">
    </testcase>
    <testcase classname="ExportService exportDocument should export JPG with quality setting" name="ExportService exportDocument should export JPG with quality setting" time="0">
    </testcase>
    <testcase classname="ExportService exportDocument should validate scale parameter" name="ExportService exportDocument should validate scale parameter" time="0">
    </testcase>
    <testcase classname="ExportService exportDocument should track export progress" name="ExportService exportDocument should track export progress" time="0.001">
    </testcase>
    <testcase classname="ExportService batch export should export multiple documents" name="ExportService batch export should export multiple documents" time="0.001">
    </testcase>
    <testcase classname="ExportService export history should retrieve user export history" name="ExportService export history should retrieve user export history" time="0">
    </testcase>
  </testsuite>
  <testsuite name="ModelSelector" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:12" time="0.032" tests="13">
    <testcase classname="ModelSelector selectModel should respect user tier restrictions" name="ModelSelector selectModel should respect user tier restrictions" time="0.002">
    </testcase>
    <testcase classname="ModelSelector selectModel should apply cost optimization" name="ModelSelector selectModel should apply cost optimization" time="0">
    </testcase>
    <testcase classname="ModelSelector selectModel should respect document type preferences" name="ModelSelector selectModel should respect document type preferences" time="0">
    </testcase>
    <testcase classname="ModelSelector selectModel should handle failed models" name="ModelSelector selectModel should handle failed models" time="0.001">
    </testcase>
    <testcase classname="ModelSelector selectModel should fallback when all models fail" name="ModelSelector selectModel should fallback when all models fail" time="0">
    </testcase>
    <testcase classname="ModelSelector determineComplexityWithContext should calculate complexity based on multiple factors" name="ModelSelector determineComplexityWithContext should calculate complexity based on multiple factors" time="0">
    </testcase>
    <testcase classname="ModelSelector determineComplexityWithContext should increase complexity for marketing documents" name="ModelSelector determineComplexityWithContext should increase complexity for marketing documents" time="0">
    </testcase>
    <testcase classname="ModelSelector determineProcessingPriority should prioritize speed for free users" name="ModelSelector determineProcessingPriority should prioritize speed for free users" time="0">
    </testcase>
    <testcase classname="ModelSelector determineProcessingPriority should prioritize quality for premium high complexity" name="ModelSelector determineProcessingPriority should prioritize quality for premium high complexity" time="0">
    </testcase>
    <testcase classname="ModelSelector determineProcessingPriority should respect user preference" name="ModelSelector determineProcessingPriority should respect user preference" time="0">
    </testcase>
    <testcase classname="ModelSelector getCostEstimate should calculate cost correctly" name="ModelSelector getCostEstimate should calculate cost correctly" time="0">
    </testcase>
    <testcase classname="ModelSelector estimateProcessingTime should scale time with complexity" name="ModelSelector estimateProcessingTime should scale time with complexity" time="0">
    </testcase>
    <testcase classname="ModelSelector getModelRecommendations should recommend models based on usage history" name="ModelSelector getModelRecommendations should recommend models based on usage history" time="0">
    </testcase>
  </testsuite>
  <testsuite name="EmailService" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:11" time="3.217" tests="15">
    <testcase classname="EmailService sendEnhancementCompletedEmail sends email successfully when preferences allow" name="EmailService sendEnhancementCompletedEmail sends email successfully when preferences allow" time="0.005">
    </testcase>
    <testcase classname="EmailService sendEnhancementCompletedEmail skips email when preferences disallow" name="EmailService sendEnhancementCompletedEmail skips email when preferences disallow" time="0.001">
    </testcase>
    <testcase classname="EmailService sendEnhancementCompletedEmail sends email when preferences not found (defaults to true)" name="EmailService sendEnhancementCompletedEmail sends email when preferences not found (defaults to true)" time="0">
    </testcase>
    <testcase classname="EmailService sendEnhancementCompletedEmail handles email sending errors" name="EmailService sendEnhancementCompletedEmail handles email sending errors" time="0.001">
    </testcase>
    <testcase classname="EmailService sendEnhancementCompletedEmail handles development mode (no resend configured)" name="EmailService sendEnhancementCompletedEmail handles development mode (no resend configured)" time="0.001">
    </testcase>
    <testcase classname="EmailService sendWelcomeEmail sends welcome email successfully" name="EmailService sendWelcomeEmail sends welcome email successfully" time="0.001">
    </testcase>
    <testcase classname="EmailService sendWelcomeEmail logs email delivery" name="EmailService sendWelcomeEmail logs email delivery" time="0">
    </testcase>
    <testcase classname="EmailService sendPasswordResetEmail sends password reset email successfully" name="EmailService sendPasswordResetEmail sends password reset email successfully" time="0.012">
    </testcase>
    <testcase classname="EmailService sendPasswordResetEmail logs email without userId" name="EmailService sendPasswordResetEmail logs email without userId" time="0.001">
    </testcase>
    <testcase classname="EmailService sendSubscriptionCreatedEmail sends subscription email when preferences allow" name="EmailService sendSubscriptionCreatedEmail sends subscription email when preferences allow" time="0.002">
    </testcase>
    <testcase classname="EmailService sendSubscriptionCreatedEmail skips email when system notifications disabled" name="EmailService sendSubscriptionCreatedEmail skips email when system notifications disabled" time="0.001">
    </testcase>
    <testcase classname="EmailService sendBulkEmail sends bulk emails successfully" name="EmailService sendBulkEmail sends bulk emails successfully" time="0.001">
    </testcase>
    <testcase classname="EmailService sendBulkEmail handles mixed success and failure" name="EmailService sendBulkEmail handles mixed success and failure" time="0">
    </testcase>
    <testcase classname="EmailService sendBulkEmail processes in batches with delay" name="EmailService sendBulkEmail processes in batches with delay" time="2.004">
    </testcase>
    <testcase classname="EmailService sendBulkEmail throws error for unsupported email types" name="EmailService sendBulkEmail throws error for unsupported email types" time="0.008">
    </testcase>
  </testsuite>
  <testsuite name="StableDiffusionProvider" errors="0" failures="0" skipped="0" timestamp="2025-06-30T06:05:11" time="4.923" tests="15">
    <testcase classname="StableDiffusionProvider generate should generate an image successfully" name="StableDiffusionProvider generate should generate an image successfully" time="0.022">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should use HD settings for HD quality" name="StableDiffusionProvider generate should use HD settings for HD quality" time="0.001">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should apply style-specific settings" name="StableDiffusionProvider generate should apply style-specific settings" time="0.003">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should calculate size-based costs correctly" name="StableDiffusionProvider generate should calculate size-based costs correctly" time="0">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should retry on transient errors" name="StableDiffusionProvider generate should retry on transient errors" time="2.004">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should handle timeout errors with retry" name="StableDiffusionProvider generate should handle timeout errors with retry" time="2.005">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should handle NSFW content errors" name="StableDiffusionProvider generate should handle NSFW content errors" time="0.002">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should handle insufficient credits" name="StableDiffusionProvider generate should handle insufficient credits" time="0.001">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should validate generated image URLs" name="StableDiffusionProvider generate should validate generated image URLs" time="0.002">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should handle empty output" name="StableDiffusionProvider generate should handle empty output" time="0.001">
    </testcase>
    <testcase classname="StableDiffusionProvider generate should use seed when provided" name="StableDiffusionProvider generate should use seed when provided" time="0.001">
    </testcase>
    <testcase classname="StableDiffusionProvider isAvailable should check API availability" name="StableDiffusionProvider isAvailable should check API availability" time="0">
    </testcase>
    <testcase classname="StableDiffusionProvider isAvailable should fallback to secondary key" name="StableDiffusionProvider isAvailable should fallback to secondary key" time="0.001">
    </testcase>
    <testcase classname="StableDiffusionProvider isAvailable should return false when no keys work" name="StableDiffusionProvider isAvailable should return false when no keys work" time="0">
    </testcase>
    <testcase classname="StableDiffusionProvider prompt enhancement should add style modifiers to prompts" name="StableDiffusionProvider prompt enhancement should add style modifiers to prompts" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="DallE3Provider" errors="0" failures="0" skipped="1" timestamp="2025-06-30T06:05:11" time="8.898" tests="15">
    <testcase classname="DallE3Provider generate should generate an image successfully" name="DallE3Provider generate should generate an image successfully" time="0.004">
    </testcase>
    <testcase classname="DallE3Provider generate should handle HD quality pricing correctly" name="DallE3Provider generate should handle HD quality pricing correctly" time="0">
    </testcase>
    <testcase classname="DallE3Provider generate should map sizes correctly for DALL-E 3" name="DallE3Provider generate should map sizes correctly for DALL-E 3" time="0.005">
    </testcase>
    <testcase classname="DallE3Provider generate should retry on transient errors" name="DallE3Provider generate should retry on transient errors" time="2.002">
    </testcase>
    <testcase classname="DallE3Provider generate should handle rate limit errors" name="DallE3Provider generate should handle rate limit errors" time="6.003">
    </testcase>
    <testcase classname="DallE3Provider generate should handle content policy violations" name="DallE3Provider generate should handle content policy violations" time="0.001">
    </testcase>
    <testcase classname="DallE3Provider generate should validate URLs before returning" name="DallE3Provider generate should validate URLs before returning" time="0.001">
    </testcase>
    <testcase classname="DallE3Provider generate should timeout after 60 seconds" name="DallE3Provider generate should timeout after 60 seconds" time="0">
      <skipped/>
    </testcase>
    <testcase classname="DallE3Provider validatePrompt should reject prompts with banned words" name="DallE3Provider validatePrompt should reject prompts with banned words" time="0.001">
    </testcase>
    <testcase classname="DallE3Provider validatePrompt should accept valid prompts" name="DallE3Provider validatePrompt should accept valid prompts" time="0">
    </testcase>
    <testcase classname="DallE3Provider validatePrompt should reject empty or too long prompts" name="DallE3Provider validatePrompt should reject empty or too long prompts" time="0.001">
    </testcase>
    <testcase classname="DallE3Provider isAvailable should check API availability" name="DallE3Provider isAvailable should check API availability" time="0">
    </testcase>
    <testcase classname="DallE3Provider isAvailable should fallback to secondary key on failure" name="DallE3Provider isAvailable should fallback to secondary key on failure" time="0.001">
    </testcase>
    <testcase classname="DallE3Provider isAvailable should return false when no keys work" name="DallE3Provider isAvailable should return false when no keys work" time="0">
    </testcase>
    <testcase classname="DallE3Provider estimateCost should calculate costs correctly" name="DallE3Provider estimateCost should calculate costs correctly" time="0">
    </testcase>
  </testsuite>
</testsuites>